{
    "swagger": "2.0",
    "info": {
        "title": "Boogers API",
        "version": "1.0.0"
    },
    "basePath": "/",
    "consumes": [
        "application/json"
    ],
    "produces": [
        "application/json"
    ],
    "paths": {
        "/api/configure": {
            "post": {
                "tags": [
                    "eos"
                ],
                "summary": "REQUIRED API FOR SERVICES: Accept configuration push from eos-mc service",
                "operationId": "acceptConfiguration",
                "parameters": [
                    {
                        "name": "apikey",
                        "in": "query",
                        "description": "required api key",
                        "type": "string"
                    },
                    {
                        "name": "body",
                        "in": "body",
                        "description": "Service Configuration",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/ServiceConfig"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful",
                        "schema": {
                            "$ref": "#/definitions/ServiceConfigResponse"
                        }
                    },
                    "500": {
                        "description": "System error",
                        "schema": {
                            "$ref": "#/definitions/ServiceConfigResponse"
                        }
                    }
                }
            }
        },
        "/api/schema": {
            "get": {
                "tags": [
                    "eos"
                ],
                "summary": "REQUIRED API FOR SERVICES: Return settings pack schema",
                "operationId": "settingsSchema",
                "parameters": [
                    {
                        "name": "apikey",
                        "in": "query",
                        "description": "required api key",
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "internal server error"
                    }
                }
            }
        },
        "/api/settings": {
            "get": {
                "tags": [
                    "eos"
                ],
                "summary": "REQUIRED API FOR SERVICES: Return settings",
                "operationId": "getSettings",
                "parameters": [
                    {
                        "name": "apikey",
                        "in": "query",
                        "description": "required api key",
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "internal server error"
                    }
                }
            },
            "post": {
                "tags": [
                    "eos"
                ],
                "summary": "REQUIRED API FOR SERVICES: Accept settings",
                "operationId": "postSettings",
                "parameters": [
                    {
                        "name": "apikey",
                        "in": "query",
                        "description": "required api key",
                        "type": "string"
                    },
                    {
                        "name": "body",
                        "in": "body",
                        "description": "Settings JSON Data",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "internal server error"
                    }
                }
            },
            "delete": {
                "tags": [
                    "eos"
                ],
                "summary": "REQUIRED API FOR SERVICES: Delete settings",
                "operationId": "deleteSettings",
                "parameters": [
                    {
                        "name": "apikey",
                        "in": "query",
                        "description": "required api key",
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful"
                    },
                    "500": {
                        "description": "internal server error"
                    }
                }
            }
        },
        "/oauth/token": {
            "post": {
                "tags": [
                    "eos"
                ],
                "summary": "GET AN ACCESS TOKEN: You must know the client credentials id and secret.",
                "operationId": "getClientCredentialsToken",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "description": "Client Authorization",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/OauthGrantRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful",
                        "schema": {
                            "$ref": "#/definitions/OauthGrantResponse"
                        }
                    },
                    "500": {
                        "description": "System error"
                    }
                }
            }
        },
        "/api/gumdrops": {
            "get": {
                "tags": [
                    "gumdrops"
                ],
                "summary": "Get all the gumdrops",
                "operationId": "getAllGumdrops",
                "parameters": [
                    {
                        "name": "transaction_id",
                        "in": "query",
                        "description": "GUID",
                        "required": false,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/Gumdrop"
                            }
                        }
                    },
                    "500": {
                        "description": "System error"
                    }
                },
                "security": [
                    {
                        "oauth2": [
                            ""
                        ]
                    }
                ]
            },
            "post": {
                "tags": [
                    "gumdrops"
                ],
                "summary": "Add a new gumdrop for a player",
                "operationId": "createGumdrop",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "description": "Gumdrop Parameters.",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/Gumdrop"
                        }
                    },
                    {
                        "name": "transaction_id",
                        "in": "query",
                        "description": "GUID",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "name": "X-Auth",
                        "in": "header",
                        "description": "SciPlay Auth Header.",
                        "required": false,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful"
                    },
                    "400": {
                        "description": "Validation error"
                    },
                    "404": {
                        "description": "User not found"
                    },
                    "500": {
                        "description": "System error"
                    }
                },
                "security": [
                    {
                        "oauth2": [
                            ""
                        ]
                    }
                ]
            }
        },
        "/api/players/{id}/gumdrops": {
            "get": {
                "tags": [
                    "players"
                ],
                "summary": "Get gumdrops for a player",
                "operationId": "getPlayerGumdrops",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Player Registrar Id",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "transaction_id",
                        "in": "query",
                        "description": "GUID",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "name": "X-Auth",
                        "in": "header",
                        "description": "SciPlay Auth Header.",
                        "required": false,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/Gumdrop"
                            }
                        }
                    },
                    "404": {
                        "description": "Player not found"
                    },
                    "401": {
                        "description": "Unauthorized player"
                    },
                    "500": {
                        "description": "System error"
                    }
                },
                "security": [
                    {
                        "oauth2": [
                            ""
                        ]
                    }
                ]
            }
        },
        "/api/gumdrops/{id}": {
            "put": {
                "tags": [
                    "gumdrops"
                ],
                "summary": "Modify a gumdrop",
                "operationId": "modifyGumdrop",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Gumdrop Id",
                        "required": true,
                        "type": "integer"
                    },
                    {
                        "name": "transaction_id",
                        "in": "query",
                        "description": "GUID",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "name": "X-Auth",
                        "in": "header",
                        "description": "SciPlay Auth Header.",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "name": "body",
                        "in": "body",
                        "description": "Gumdrop Parameters.",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/Gumdrop"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful"
                    },
                    "400": {
                        "description": "Validation error"
                    },
                    "404": {
                        "description": "Gumdrop not found"
                    },
                    "401": {
                        "description": "Unauthorized player"
                    },
                    "500": {
                        "description": "System error"
                    }
                },
                "security": [
                    {
                        "oauth2": [
                            ""
                        ]
                    }
                ]
            },
            "delete": {
                "tags": [
                    "gumdrops"
                ],
                "summary": "Delete a gumdrop",
                "operationId": "deleteGumdrop",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Gumdrop Id",
                        "required": true,
                        "type": "integer"
                    },
                    {
                        "name": "transaction_id",
                        "in": "query",
                        "description": "GUID",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "name": "X-Auth",
                        "in": "header",
                        "description": "SciPlay Auth Header.",
                        "required": false,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful"
                    },
                    "404": {
                        "description": "Gumdrop not found"
                    },
                    "401": {
                        "description": "Unauthorized player"
                    },
                    "500": {
                        "description": "System error"
                    }
                },
                "security": [
                    {
                        "oauth2": [
                            ""
                        ]
                    }
                ]
            }
        },
        "/api/probe": {
            "get": {
                "tags": [
                    "eos"
                ],
                "summary": "REQUIRED API FOR SERVICES: Execute peer probe",
                "operationId": "probe",
                "responses": {
                    "200": {
                        "description": "successful",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/ProbeResults"
                            }
                        }
                    },
                    "500": {
                        "description": "internal server error"
                    }
                }
            }
        },
        "/api/version": {
            "get": {
                "tags": [
                    "eos"
                ],
                "summary": "REQUIRED API FOR SERVICES: Respond with version number",
                "operationId": "version",
                "responses": {
                    "200": {
                        "description": "successful",
                        "schema": {
                            "type": "string",
                            "example": "v1.0.1"
                        }
                    },
                    "500": {
                        "description": "internal server error"
                    }
                }
            }
        }
    },
    "definitions": {
        "Gumdrop": {
            "required": [
                "name",
                "color"
            ],
            "properties": {
                "id": {
                    "description": "The gumdrop identifier.",
                    "format": "int64",
                    "example": 21
                },
                "name": {
                    "description": "Unique name of the gumdrop.",
                    "format": "string",
                    "example": "Bobby"
                },
                "color": {
                    "description": "The gumdrop color.",
                    "format": "string",
                    "example": "red"
                }
            },
            "type": "object",
            "xml": {
                "name": "Gumdrop"
            }
        },
        "OauthGrantRequest": {
            "required": [
                "grant_type",
                "client_id",
                "client_secret",
                "scope"
            ],
            "properties": {
                "grant_type": {
                    "description": "Grant type",
                    "format": "string",
                    "example": "client_credentials"
                },
                "client_id": {
                    "description": "ID of the credentials client",
                    "type": "string",
                    "example": "2"
                },
                "client_secret": {
                    "description": "credentials client secret",
                    "type": "string",
                    "example": "random-string"
                },
                "scope": {
                    "description": "requested scopes",
                    "type": "string",
                    "example": "manage-keys view-credentials"
                }
            },
            "type": "object",
            "xml": {
                "name": "OauthGrantRequest"
            }
        },
        "OauthGrantResponse": {
            "required": [
                "access_token",
                "refresh_token",
                "expires_in"
            ],
            "properties": {
                "access_token": {
                    "description": "use as Bearer token",
                    "format": "string",
                    "example": "long-string"
                },
                "refresh_token": {
                    "description": "use to refresh expired token",
                    "type": "string",
                    "example": "long-string"
                },
                "expires_in": {
                    "description": "seconds until expiration",
                    "type": "number",
                    "example": "445632"
                }
            },
            "type": "object",
            "xml": {
                "name": "OauthGrantResponse"
            }
        },
        "ServiceConfig": {
            "required": [
                "name",
                "inbound",
                "outbound"
            ],
            "properties": {
                "name": {
                    "description": "Name of the service",
                    "format": "string",
                    "example": "Bonusing Manager"
                },
                "inbound": {
                    "description": "All known connections to this service",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ConnectionConfig"
                    }
                },
                "outbound": {
                    "description": "All known connections from this service",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ConnectionConfig"
                    }
                }
            },
            "type": "object",
            "xml": {
                "name": "ServiceConfig"
            }
        },
        "ServiceConfigResponse": {
            "required": [
                "status"
            ],
            "properties": {
                "status": {
                    "description": "Status return, ok or error",
                    "format": "string",
                    "example": "ok"
                },
                "config": {
                    "description": "Summary of consumed configuration",
                    "type": "string",
                    "example": "{json string}"
                },
                "message": {
                    "description": "Any error message",
                    "type": "string",
                    "example": "config failure"
                }
            },
            "type": "object",
            "xml": {
                "name": "ServiceConfigResponse"
            }
        },
        "ConnectionConfig": {
            "required": [
                "name",
                "url"
            ],
            "properties": {
                "name": {
                    "description": "Name of the service",
                    "format": "string",
                    "example": "Bonusing Engine"
                },
                "url": {
                    "description": "URL of the service.",
                    "format": "string",
                    "example": "https://bonusing.pawtest.gamelogic.com"
                },
                "client_id": {
                    "description": "Oauth client ID.",
                    "format": "string",
                    "example": 3
                },
                "client_secret": {
                    "description": "Oauth client secret.",
                    "format": "string",
                    "example": "34fcssec3w"
                },
                "client_callback": {
                    "description": "Oauth client redirect url.",
                    "format": "string",
                    "example": "http://my.client/callback"
                }
            },
            "type": "object",
            "xml": {
                "name": "ConnectionConfig"
            }
        },
        "ProbeResults": {
            "required": [
                "name",
                "status",
                "message"
            ],
            "properties": {
                "name": {
                    "description": "Name of peer service",
                    "type": "string",
                    "example": "LPS Issuer"
                },
                "elapsed_time": {
                    "description": "Probe roundtrip time in seconds",
                    "type": "float",
                    "example": 0.94
                },
                "status": {
                    "description": "Probe result status, ok or some error",
                    "type": "string",
                    "example": "failure"
                },
                "message": {
                    "description": "Probe result message",
                    "type": "string",
                    "example": "Not Authorized"
                }
            },
            "type": "object",
            "xml": {
                "name": "ProbeResults"
            }
        }
    },
    "securityDefinitions": {
        "oauth2": {
            "type": "oauth2",
            "description": "OAuth2 Client Grant",
            "flow": "application",
            "tokenUrl": "/oauth/token",
            "scopes": {
                "scope": ""
            }
        }
    }
}