{"swagger":"2.0","info":{"title":"Base Service API","version":"1.0.0"},"basePath":"\/","consumes":["application\/json"],"produces":["application\/json"],"paths":{"\/api\/schema":{"get":{"tags":["eos"],"summary":"REQUIRED API FOR SERVICES: Return settings pack schema","operationId":"settingsSchema","parameters":[{"name":"apikey","in":"query","description":"required api key","type":"string"}],"responses":{"200":{"description":"successful","schema":{"type":"string"}},"500":{"description":"internal server error"}}}},"\/api\/settings":{"get":{"tags":["eos"],"summary":"REQUIRED API FOR SERVICES: Return settings","operationId":"getSettings","parameters":[{"name":"apikey","in":"query","description":"required api key","type":"string"}],"responses":{"200":{"description":"successful","schema":{"type":"string"}},"500":{"description":"internal server error"}}},"post":{"tags":["eos"],"summary":"REQUIRED API FOR SERVICES: Accept settings","operationId":"postSettings","parameters":[{"name":"apikey","in":"query","description":"required api key","type":"string"},{"name":"body","in":"body","description":"Settings JSON Data","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"successful","schema":{"type":"string"}},"500":{"description":"internal server error"}}},"delete":{"tags":["eos"],"summary":"REQUIRED API FOR SERVICES: Delete settings","operationId":"deleteSettings","parameters":[{"name":"apikey","in":"query","description":"required api key","type":"string"}],"responses":{"200":{"description":"successful"},"500":{"description":"internal server error"}}}},"\/api\/schedule":{"get":{"tags":["eos"],"summary":"REQUIRED API FOR SERVICES: Return job schedule","operationId":"getSchedule","parameters":[{"name":"apikey","in":"query","description":"required api key","type":"string"}],"responses":{"200":{"description":"successful","schema":{"type":"string"}},"500":{"description":"internal server error"}}}},"\/api\/oauth\/clients":{"get":{"tags":["eos"],"summary":"GET OAUTH CLIENTS: only used by eos-mc.","operationId":"getOauthClients","parameters":[{"name":"apikey","in":"query","description":"required api key","type":"string"}],"responses":{"200":{"description":"successful","schema":{"type":"array","items":{"$ref":"#\/definitions\/OauthClientResponse"}}},"500":{"description":"System error"}}},"post":{"tags":["eos"],"summary":"CREATE OAUTH CLIENT: only used by eos-mc.","operationId":"createOauthClient","parameters":[{"name":"apikey","in":"query","description":"required api key","type":"string"},{"name":"body","in":"body","description":"Client Data","required":true,"schema":{"$ref":"#\/definitions\/OauthClientData"}}],"responses":{"200":{"description":"successful","schema":{"$ref":"#\/definitions\/OauthClientResponse"}},"500":{"description":"System error"}}}},"\/oauth\/token":{"post":{"tags":["eos"],"summary":"GET AN ACCESS TOKEN: You must know the client credentials id and secret.","operationId":"getClientCredentialsToken","parameters":[{"name":"body","in":"body","description":"Client Authorization","required":true,"schema":{"$ref":"#\/definitions\/OauthGrantRequest"}}],"responses":{"200":{"description":"successful","schema":{"$ref":"#\/definitions\/OauthGrantResponse"}},"500":{"description":"System error"}}}},"\/api\/funding\/login":{"post":{"tags":["funding"],"summary":"Log in a player","operationId":"logInPlayer","parameters":[{"name":"credentials","in":"body","required":true,"schema":{"$ref":"#\/definitions\/LoginCredentials"}}],"responses":{"200":{"description":"successful","schema":{"type":"array","items":{"$ref":"#\/definitions\/Player"}}},"550":{"description":"Failed login exception"}}}},"\/api\/funding":{"get":{"tags":["funding"],"summary":"Get stored funding methods","operationId":"getFunding","parameters":[{"name":"playerhash","in":"query","description":"required player hash from login","required":true,"type":"string"}],"responses":{"200":{"description":"successful","schema":{"type":"array","items":{"$ref":"#\/definitions\/FundingList"}}},"550":{"description":"Failed login exception"}}}}},"definitions":{"Gumdrop":{"required":["name","color"],"properties":{"id":{"description":"The gumdrop identifier.","format":"int64","example":21},"name":{"description":"Unique name of the gumdrop.","format":"string","example":"Bobby"},"color":{"description":"The gumdrop color.","format":"string","example":"red"}},"type":"object","xml":{"name":"Gumdrop"}},"OauthGrantRequest":{"required":["grant_type","client_id","client_secret","scope"],"properties":{"grant_type":{"description":"Grant type","format":"string","example":"client_credentials"},"client_id":{"description":"ID of the credentials client","type":"string","example":"2"},"client_secret":{"description":"credentials client secret","type":"string","example":"random-string"},"scope":{"description":"requested scopes","type":"string","example":"manage-keys view-credentials"}},"type":"object","xml":{"name":"OauthGrantRequest"}},"OauthGrantResponse":{"required":["access_token","refresh_token","expires_in"],"properties":{"access_token":{"description":"use as Bearer token","format":"string","example":"long-string"},"refresh_token":{"description":"use to refresh expired token","type":"string","example":"long-string"},"expires_in":{"description":"seconds until expiration","type":"number","example":"445632"}},"type":"object","xml":{"name":"OauthGrantResponse"}},"OauthClientResponse":{"required":["id","name","secret","redirect"],"properties":{"id":{"description":"client Id","format":"number","example":"3"},"name":{"description":"name of client","format":"string","example":"eos-wallet"},"secret":{"description":"client Secret","type":"string","example":"long-string"},"redirect":{"description":"client redirect url","type":"string","example":"http:url"}},"type":"object","xml":{"name":"OauthClientResponse"}},"OauthClientData":{"required":["name","redirect"],"properties":{"name":{"description":"name of client","format":"string","example":"eos-wallet"},"redirect":{"description":"client redirect url","type":"string","example":"http:url"}},"type":"object","xml":{"name":"OauthClientData"}},"ServiceConfig":{"required":["name","inbound","outbound"],"properties":{"name":{"description":"Name of the service","format":"string","example":"Bonusing Manager"},"inbound":{"description":"All known connections to this service","type":"array","items":{"$ref":"#\/definitions\/ConnectionConfig"}},"outbound":{"description":"All known connections from this service","type":"array","items":{"$ref":"#\/definitions\/ConnectionConfig"}}},"type":"object","xml":{"name":"ServiceConfig"}},"ServiceConfigResponse":{"required":["status"],"properties":{"status":{"description":"Status return, ok or error","format":"string","example":"ok"},"config":{"description":"Summary of consumed configuration","type":"string","example":"{json string}"},"message":{"description":"Any error message","type":"string","example":"config failure"}},"type":"object","xml":{"name":"ServiceConfigResponse"}},"ConnectionConfig":{"required":["name","url"],"properties":{"name":{"description":"Name of the service","format":"string","example":"Bonusing Engine"},"url":{"description":"URL of the service.","format":"string","example":"https:\/\/bonusing.pawtest.gamelogic.com"},"client_id":{"description":"Oauth client ID.","format":"string","example":3},"client_secret":{"description":"Oauth client secret.","format":"string","example":"34fcssec3w"},"client_callback":{"description":"Oauth client redirect url.","format":"string","example":"http:\/\/my.client\/callback"}},"type":"object","xml":{"name":"ConnectionConfig"}},"LoginCredentials":{"required":["email","password","registrar_id"],"properties":{"email":{"description":"The player email credential.","format":"string","example":"me@email.com"},"password":{"description":"The player password credential.","format":"string","example":"xxxyyy"},"registrar_id":{"description":"The player registrar id (playercardid).","format":"string","example":"224"}},"type":"object","xml":{"name":"LoginCredentials"}},"FundingList":{"required":[],"properties":{"eft-profiles":{"description":"All stored EFT profiles for the player.","type":"array","items":{"$ref":"#\/definitions\/EftProfile"}},"card-profiles":{"description":"All stored Card profiles for the player.","type":"array","items":{"$ref":"#\/definitions\/CardProfile"}}},"type":"object","xml":{"name":"FundingList"}},"EftProfile":{"required":["provider","name"],"properties":{"id":{"description":"EFT Profile identifier.","format":"int64","example":21},"name":{"description":"Player selected name","format":"string","example":"Moms Bank Account"},"provider":{"description":"The e-commerce provider in use","format":"string","example":"PaySafe"},"provider_funding_token":{"description":"Provider external ID for profile","format":"string","example":"GGX435R-21er42-d345"},"card_type":{"description":"Card type identifier","format":"string","example":"MasterCard"},"state":{"description":"State of the profile: active, expired, pending","format":"string","example":"active"},"is_default_funding":{"description":"True if this is default funding option","format":"boolean","example":true}},"type":"object","xml":{"name":"EftProfile"}},"CardProfile":{"required":["provider","name"],"properties":{"id":{"description":"EFT Profile identifier.","format":"int64","example":21},"name":{"description":"Player selected name","format":"string","example":"Moms Bank Account"},"provider":{"description":"The e-commerce provider in use","format":"string","example":"PaySafe"},"provider_funding_token":{"description":"Provider external ID for profile","format":"string","example":"GGX435R-21er42-d345"},"card_type":{"description":"Card type identifier","format":"string","example":"MasterCard"},"state":{"description":"State of the profile: active, expired, pending","format":"string","example":"active"},"is_default_funding":{"description":"True if this is default funding option","format":"boolean","example":true}},"type":"object","xml":{"name":"CardProfile"}},"Player":{"required":["playercardid"],"properties":{"playerhash":{"description":"Player hash value to include on future calls","format":"string","example":"X234ERtui*7$"},"registrar_id":{"description":"The playercard identifier.","format":"int64","example":21},"activateddatetime":{"description":"Timestamp of player activation.","format":"int64","example":1382128779},"lastlogindatetime":{"description":"Timestamp of most recent login.","format":"int64","example":1382129829},"cashbalancepence":{"description":"Available wagering cash in pence.","format":"int64","example":440000},"username":{"description":"Player username (non-unique).","format":"string","example":"fred"},"firstname":{"description":"Player first name.","format":"string","example":"Bobby"},"lastname":{"description":"Player last name.","format":"string","example":"Blagg"},"phone":{"description":"The player phone number","format":"string","example":"2223334444"},"email":{"description":"The player email.","format":"string","example":"me@email.com"},"address1":{"description":"The player address.","format":"string","example":"224 some street"},"address2":{"description":"The player address continued.","format":"string","example":"apt 22"},"city":{"description":"The player city of residence.","format":"string","example":"Columbus"},"state":{"description":"The player state of residence","format":"string","example":"OH"},"zip":{"description":"The player postal code.","format":"string","example":"20421"},"playerstate":{"description":"Player state bitmask.","format":"int64","example":96}},"type":"object","xml":{"name":"Player"}}},"securityDefinitions":{"oauth2":{"type":"oauth2","description":"OAuth2 Client Grant","flow":"application","tokenUrl":"\/oauth\/token","scopes":{"scope":""}},"passport":{"type":"oauth2","description":"Laravel passport oauth2 security.","in":"header","scheme":"http","flows":{"password":{"authorizationUrl":"http:\/\/localhost\/oauth\/authorize","tokenUrl":"http:\/\/localhost\/oauth\/token","refreshUrl":"http:\/\/localhost\/token\/refresh","scopes":[]}}}}}